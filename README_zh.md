
# ASB Security Schema

> é¢å‘ LLM / RAG / Agent åº”ç”¨çš„ç»Ÿä¸€å®‰å…¨äº‹ä»¶æ¨¡å‹ã€‚

ASB Security Schema å®šä¹‰äº†ä¸€å¥—ç”¨äº AI å®‰å…¨äº‹ä»¶çš„ **æ ‡å‡† JSON ç»“æ„**ï¼Œå¯ä»¥ç”¨æ¥ï¼š

- ğŸ”’ è®© AI å®‰å…¨ç­–ç•¥ï¼ˆOPA / Policy-as-Codeï¼‰æœ‰ä¸€ä¸ªç»Ÿä¸€ã€è§„èŒƒçš„ `input`  
- ğŸ§¾ è§„èŒƒåŒ– **æ—¥å¿—ä¸å®¡è®¡äº‹ä»¶**ï¼Œæ–¹ä¾¿å¯¹æ¥ EU AI Actã€ISO 27001ã€ISO 42001 ä»¥åŠå†…éƒ¨æ²»ç†  
- ğŸ§© é€‚é…ä»»æ„ LLM / RAG / Agent æŠ€æœ¯æ ˆï¼šLangChainã€Difyã€AutoGenã€CrewAIã€è‡ªç ”åº”ç”¨ç­‰

æœ¬ä»“åº“æ˜¯ä¸€ä¸ª **è§„èŒƒä»“åº“ï¼ˆspec repoï¼‰**ï¼ŒåŒ…å«ï¼š

- **Schema è§„èŒƒæ–‡æ¡£**ï¼ˆSpecï¼‰
- **JSON Schema**ï¼ˆæœºå™¨å¯æ ¡éªŒï¼‰
- **ç¤ºä¾‹ eventsï¼ˆexamplesï¼‰**
- **OPA / Rego ç­–ç•¥ç¤ºä¾‹ï¼ˆpoliciesï¼‰**

è¿è¡Œæ—¶ç½‘å…³ç»„ä»¶ï¼ˆä¾‹å¦‚ `asb-secure-gateway`ï¼‰ä¼šä»¥æ­¤ Schema ä½œä¸º **ç»Ÿä¸€äº‹ä»¶æ¨¡å‹**ã€‚

---

## å¿«é€Ÿå…¥å£

- ğŸ“„ è§„èŒƒï¼š**[ASB Security Event Schema v0.1](spec/asb-security-schema-v0.1.md)**  
- ğŸ§¬ JSON Schemaï¼š**[asb-security-schema-v0.1.json](schema/asb-security-schema-v0.1.json)**  
- ğŸ§ª ç¤ºä¾‹ï¼š**[examples/](examples/)** â€“ LLM / RAG / Agent äº‹ä»¶æ ·ä¾‹  
- ğŸ§¯ ç­–ç•¥ï¼š**[policies/](policies/)** â€“ OPA / Rego ç­–ç•¥æ ·ä¾‹  

è‹±æ–‡ç‰ˆè¯´æ˜è§ **[README.md](README.md)**ã€‚

---

## è¿™æ˜¯ä»€ä¹ˆï¼Ÿ

`asb-security-schema` æ˜¯ä¸€å¥—ç”¨æ¥æè¿° AI ç³»ç»Ÿä¸­ **å®‰å…¨ç›¸å…³è¡Œä¸º** çš„æ•°æ®æ¨¡å‹ã€‚

å®ƒæä¾›ï¼š

- ä¸€å¥—ç»Ÿä¸€çš„ **ASB å®‰å…¨äº‹ä»¶ Schema**ï¼Œç”¨äºï¼š
  - LLM æ¨ç†ï¼ˆå¯¹è¯ / è¡¥å…¨ / embeddingï¼‰
  - RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æŸ¥è¯¢
  - Agent å·¥å…· / åŠ¨ä½œè°ƒç”¨
- ä¸€ç»„ **JSON ç¤ºä¾‹**ï¼Œè¦†ç›–å…¸å‹åœºæ™¯
- è‹¥å¹² **OPA / Rego ç­–ç•¥ç¤ºä¾‹**ï¼Œå±•ç¤ºå¦‚ä½•æ¶ˆè´¹è¯¥ Schema

æœ¬ä»“åº“ **ä¸åŒ…å«** å®é™…ç½‘å…³å®ç°ã€‚  
ç±»ä¼¼ `asb-secure-gateway` è¿™æ ·çš„è¿è¡Œæ—¶ç»„ä»¶ï¼Œä¼šä»¥æœ¬ Schema ä½œä¸ºï¼š

- ç­–ç•¥å†³ç­–ï¼ˆå…è®¸ / æ‹’ç» / è„±æ• / å‡çº§å®¡æ‰¹ï¼‰çš„æ ‡å‡†è¾“å…¥  
- å®¡è®¡æ—¥å¿—å’Œå–è¯åˆ†æçš„ç»Ÿä¸€ç»“æ„  
- åˆè§„ä¸æŠ¥è¡¨ï¼ˆä¾‹å¦‚ EU AI Actã€å†…éƒ¨ AI æ²»ç†ï¼‰çš„æ•°æ®åŸºç¡€

---

## 1. è®¾è®¡ç›®æ ‡

ASB å®‰å…¨äº‹ä»¶ Schema çš„ç›®æ ‡æ˜¯ï¼š

1. ä¸º LLM / RAG / Agent åœºæ™¯æä¾›ä¸€å¥— **ç»Ÿä¸€çš„å®‰å…¨äº‹ä»¶è¡¨ç¤ºæ–¹å¼**ï¼›  
2. æ”¯æŒåŸºäº OPA ç­‰å¼•æ“çš„ **Policy-as-Code**ï¼Œè®©ç­–ç•¥æœ‰è§„èŒƒåŒ–çš„ `input` ç»“æ„ï¼›  
3. æ–¹ä¾¿å°† AI å®‰å…¨äº‹ä»¶å¯¼å‡ºåˆ° **SIEM / å¯è§‚æµ‹æ€§ / å®¡è®¡ç³»ç»Ÿ**ï¼›  
4. åŒæ—¶æ”¯æŒï¼š
   - **å®æ—¶é˜²æŠ¤**ï¼ˆå†³ç­–å‰åäº§ç”Ÿäº‹ä»¶ï¼‰
   - **äº‹ååˆ†æ**ï¼ˆäº‹ä»¶ä¸­ä¿ç•™å®Œæ•´ä¸Šä¸‹æ–‡ï¼‰

å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª **æ•°æ®æ¨¡å‹**ï¼Œè€Œä¸æ˜¯å®Œæ•´çš„å®‰å…¨äº§å“ï¼Œä¹Ÿä¸æ˜¯ WAF / SIEM çš„æ›¿ä»£å“ã€‚

---

## 2. æ¦‚å¿µæ¨¡å‹

Schema çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼š

> **SecurityEventï¼ˆå®‰å…¨äº‹ä»¶ï¼‰** â€”â€” ç”¨ä¸€ä¸ª JSON æ–‡æ¡£æè¿°ä¸€æ¬¡ä¸å®‰å…¨ç›¸å…³çš„ AI è¡Œä¸ºæˆ–å†³ç­–ã€‚

æ¯ä¸ª `SecurityEvent` è¦å›ç­”çš„é—®é¢˜æ˜¯ï¼š

- **è°** åœ¨å‘èµ·ï¼Ÿâ†’ `subject`  
- **åšäº†ä»€ä¹ˆæ“ä½œï¼Ÿ** â†’ `operation`  
- **ä½œç”¨åœ¨ä»€ä¹ˆå¯¹è±¡ä¸Šï¼Ÿ** â†’ `resource`  
- **åœ¨ä»€ä¹ˆä¸Šä¸‹æ–‡ä¸­ï¼Ÿ** â†’ `context`  
- **ç»“æœå¦‚ä½•ï¼Ÿé£é™©å¦‚ä½•ï¼Ÿ** â†’ `decision`ï¼ˆå¯é€‰ï¼Œç”¨äºåç½®äº‹ä»¶ï¼‰

---

## 3. é¡¶å±‚ç»“æ„ï¼ˆv0.1ï¼‰

æ‰€æœ‰äº‹ä»¶éƒ½æœ‰ä¸€ä¸ªç»Ÿä¸€çš„â€œä¿¡å°â€ç»“æ„ï¼š

```jsonc
{
  "schema_version": "asb-sec-0.1",
  "event_id": "uuid-1234",
  "timestamp": "2025-01-01T12:00:00Z",

  "tenant_id": "tenant-a",
  "app_id": "kb-copilot",
  "env": "prod",  // dev | test | prod

  "subject":   { /* è° */ },
  "operation": { /* åšä»€ä¹ˆ */ },
  "resource":  { /* ä½œç”¨åˆ°ä»€ä¹ˆå¯¹è±¡ */ },
  "context":   { /* å…¶ä»–ä¸Šä¸‹æ–‡ */ },
  "decision":  { /* ç­–ç•¥ç»“æœï¼ˆå¯é€‰ï¼‰ */ }
}
